Apache Cayenne Release Notes
============================

For the latest information visit project web site: 
http://cayenne.apache.org/

To browse individual bug reports check out project issue tracker:
http://issues.apache.org/cayenne/

----------------------------------
Release: 3.2M1
Date: 
----------------------------------
Changes/New Features Since 3.1

CAY-1717 [PATCH] Implement JDBC compatibility layer methods

----------------------------------
Release: 3.1B2
Date: 2012
----------------------------------
Bug Fixes Since 3.1B1:

CAY-1689 CAY-1689 [PATCH] LOB*QueryBuilders do not check isQuotingSQLIdentifiers
CAY-1713 Inconsistent property name: "cayenne.rop.service.timeout"
CAY-1715 Passing parameters to mapped EJBQL queries
CAY-1721 Writing blobs fails (Oracle)

----------------------------------
Release: 3.1B1
Date: 10 June 2012
----------------------------------
Changes/New Features Since 3.1M3:

CAY-1459 Modeler: DbEntities from other DataMaps under same domain are not displayed
CAY-1603 Improve custom ExtendedType registration API
CAY-1607 [PATCH] add pluralize method to StringUtils for use in templates
CAY-1608 Implement constructor injection support for DefaultAdhocObjectFactory
CAY-1616 Remove internal dependencies on deprecated ObjectContext.localObject
CAY-1618 Create database adapters instances with proper injection
CAY-1629 [PATCH] Can't add custom Hessian serializers to the client
CAY-1630 [PATCH] On OptimisticLockException, add method to return the object that caused the failure
CAY-1637 [PATCH] DataContextFactory is cumbersome to customize
CAY-1638 [PATCH] Can't disable validation for CayenneContext
CAY-1639 cayenne-lifecycle: don't call String representation of ObjectId a UUID
CAY-1640 NullPointerException when saving
CAY-1642 [PATCH] add ability to customize connection "timeout" setting for ROP
CAY-1643 Updated Velocity templates to use static keys in setters/getters
CAY-1649 Use BOOLEAN data type on Derby. Require Derby version >= 10.7.1.1.
CAY-1650 [PATCH] Verify existence of tables if a default schema is specified
CAY-1651 ObjectContext.localObject - defer FaultFailureExceptions on temporary IDs
CAY-1653 Improving DefaultEventManager concurrency - non-bocking DispatchQueue
CAY-1654 Can't switch DataSource Factory on certain projects
CAY-1656 cayenne generate extra data in xml model when change DataNode factory
CAY-1657 Expression: in-memory comparison requires persistent to be in the same context as exp parameters to match
CAY-1659 PATCH: Ingres limit query support
CAY-1660 Ingres primary key generator doesn't work correctly with Ingres 10
CAY-1662 @Auditable and @AuditableChild annotations should support 'ignoredProperties' parameter and exclude changes to runtime relationships
CAY-1663 @CacheGroups annotation should allow an empty list of cache groups
CAY-1665 Consistent and concise property names aggregated in one place 
CAY-1666 Fix problem with tests on ingres db
CAY-1667 Expression parser performance optimization
CAY-1668 Memory Exhaustion Problem with Deserialization of ObjectContext
CAY-1669 RuntimeProperties use of System properties becomes a contention point when creating query translators 
CAY-1670 Non-blocking DataRowStore
CAY-1672 [PATCH] SQLException thrown by processSchemaUpdate in BaseSchemaUpdateStrategy is not thrown in sub classes
CAY-1674 Error generating classes with invalid path in the query qualifier
CAY-1675 [PATCH] add .first(List<T>) method to Expression to enhance in-memory filtering
CAY-1679 A notion of default node
CAY-1680 Get rid of shared locks in DataDomain metadata lookups
CAY-1681 Third prefetch kind - DISJOINT_BY_ID
CAY-1684 Upgrade commons-collections dependency to 3.2.1
CAY-1686 StringIdQuery - a query providing an optimized fetch for objects based on 1..N String IDs. 
CAY-1688 [PATCH] rename DataDomain.getNode to getDataNode
CAY-1693 Initial support for bitwise operators in Expression and SelectQuery - MySQL
CAY-1698 ObjectIdRelationship support for AuditableChild
CAY-1700 Split long DISJOINT_BY_ID prefetch query on several smaller queries
CAY-1705 Cayenne plugin compatibility with M2E
CAY-1706 Build support on JDK 1.7
CAY-1658 Add sort ordering enhancements to SelectQuery

Bug Fixes Since 3.1M3:

CAY-1477 Modeler: Better validation for erroneous horizontal inheritance mapping
CAY-1513 Deadlock in PoolManager
CAY-1623 [PATCH] PersistentObjectList.setValue does not work
CAY-1624 [PATCH] PersistentObjectHolder throws NPE is object is transient - not in an ObjectContext
CAY-1627 CayenneModeler: collection types for to-many relationships are not saved
CAY-1628 ClassCastException when using java.util.Set or java.util.Map as collection type for to-many relationship
CAY-1631 Oracle - passing blobs as stored procedure parameters
CAY-1632 CayenneModeler: flattened relationship paths are not fully displayed
CAY-1634 [PATCH] In ChildDiffLoader.nodePropertyChanged the oldValue is not passed to writeProperty
CAY-1648 [PATCH] ValidationException throws format exception if error message contains percent sign
CAY-1694 When importing an EOModel, the DataNode gets lost
CAY-1696 Undo/Redo stop working after deleting several project items at once
CAY-1697 Error on Save after importing database
CAY-1701 Modeler cannot undo pasting of obj (db) entity
CAY-1702 Excessive Selection action is generated when selecting datanode
CAY-1703 NPE on selecting default datasource value

----------------------------------
Release: 3.1 M3
Date: 26 September 2011
----------------------------------
Changes/New Features Since 3.1M2:

CAY-943 Support multiple cayenne.xml files in the project
CAY-1266 Joint prefetches with fetch limit and offset do not work on Oracle
CAY-1461 CayenneModeler: remove ScopeMVC dependency - ObjRelationshipInfoDialog
CAY-1556 Add path construction feature to make constructing paths from constants easier for queries and orderings
CAY-1525 CharType: don't trim spaces on the left
CAY-1537 Implement ObjectContext local caches as NestedQueryCache over the shared cache
CAY-1544 Remove jdk1.6 module from Cayenne sources
CAY-1545 cayenne-lifecycle Referenceable handler refactoring
CAY-1547 cayenne-lifecycle: support for setting UuidRelationships
CAY-1549 Migrate BatchQueryBuilderFactory to DI
CAY-1553 cayenne-lifecycle: @SortWeight annotation 
CAY-1573 QueryLogger to DI JdbcEventLogger migration
CAY-1584 Improve Cayenne modeler re-ordering named query in the cayenne map xml
CAY-1586 New extension point: a strategy for retaining objects in the ObjectStore
CAY-1590 DDL generation without a live datasource
CAY-1594 DI extension point: turning on/off cross-ObjectContext synchronization
CAY-1595 EHCache implementation of Provider<QueryCache>
CAY-1598 Per DataMap listeners are called for all entities in DataDomain
CAY-1599 Annotation-based global listeners registration
CAY-1605 Switch Cayenne to use unified Maven repository
CAY-1606 Change CayenneModeler new object naming strategy
CAY-1610 ObjectContext API to use varargs
CAY-1611 ObjectContext API improvement - better 'localObect' method

Bug Fixes Since 3.1M2:

CAY-1469 Modeler: dbRelationships renaming problem
CAY-1526 Preferences: java.lang.IllegalArgumentException: Key too long
CAY-1539 Incorrect offset handling on some queries against database with supported LIMIT/OFFSET clauses
CAY-1546 cayenne-lifecycle: UuidBatchFault concurrency issues
CAY-1555 Unpublished dependencies of Maven plugins
CAY-1575 Error generating Embeddable classes in Cayenne Modeler
CAY-1577 SQL queries for LIKE expressions with escape character generated with syntax errors
CAY-1581 Not-Escaping <> during serialization to *.map.xml
CAY-1583 context.getObjectStore() returning null causing NullpointerException in DataMergeHandler
CAY-1585 SelectQuery automatic cache key needs FetchOffset
CAY-1591 CayenneModeler: keyboard shortcuts causing havoc in SQLTemplate SQL editor
CAY-1596 setFetchOffset & setFetchLimit issue under SQL Server 2008 R2 64Bit
CAY-1602 OSCache clustering should be shared per JVM - @CacheGroup annotation causes creation of too many cluster listeners

----------------------------------
Release: 3.1 M2
Date: 8 March 2011
----------------------------------
Changes/New Features Since 3.1M1:

CAY-1445 Initialize QueryCache via dependency injection
CAY-1508 Support for DataChannel filters
CAY-1509 Lifecycle event annotations support
CAY-1532 Import cayenne-lifecycle from sandbox
CAY-1533 Deprecate org.apache.cayenne.xml
CAY-1534 cayenne-lifecycle: implement AuditableFilter
CAY-1536 Expand deserialization context to provide Injector object instead of just a DataChannel.

Bug Fixes Since 3.1M1:

CAY-1511 Problem in db2: comparison operators are not supported on Clob object values.
CAY-1515 runtime relationships are not initialized
CAY-1516 CayenneModeler - DataMap deletion doesn't delete DataMap XML
CAY-1517 CayenneModeler - recent projects ordering is random
CAY-1519 Application deadlock trying to guess static constant fields
CAY-1528 Undo CAY-1213
CAY-1529 Cayenne should support enum types in qualifier statements/expression handling
CAY-1542 DI container is not shutting down Cayenne-managed connection pool

----------------------------------
Release: 3.1 M1
Date: 
----------------------------------
Changes/New Features Since 3.0:

CAY-952 Generate OUTER joins for flattened attributes in a SelectQuery
CAY-1213 Cayenne should support enum types in qualifier statements/expression handling
CAY-1251 Memorize user-selected column widths in preferences
CAY-1310 Remove everything deprecated in 3.0
CAY-1314 Migrate Modeler Preferences to Java Preferences API: migrate org.apache.cayenne.modeler.ModelerPreferences
CAY-1315 Formattable exceptions
CAY-1316 Deprecate DataObjectUtils and move its methods to new utility class org.apache.cayenne.Cayenne
CAY-1318 Cayenne configuration to support a single DataDomain
CAY-1319 Minimal DI container-based configuration to run Cayenne
CAY-1323 oracle.sql.TIMESTAMP in Result of query
CAY-1327 Migrate HSQLDB modeler preferences to Java preferences API
CAY-1329 DI-based cayenne-project module
CAY-1331 hessian upgrade stops rop
CAY-1336 Oracle specific type support (oracle.sql.*), add handlers.
CAY-1338 Move CayenneUserDir to the Modeler
CAY-1339 Remove org.apache.cayenne.project package from runtime
CAY-1340 Implement ConfigurationNode / ConfigurationNodeVisitor for the Cayenne project tree, including DataMap objects.
CAY-1342 Remove wocompat package from Cayenne core
CAY-1350 Implement memorized sorting of modeler columns
CAY-1374 Add parent dataMap property to Query interface
CAY-1393 Update velocity to 1.6.3
CAY-1394 DI-based replacement for JNDI hack
CAY-1414 Remove org.apache.cayenne.conf package
CAY-1415 Replace WebApplicationContextFilter with a DI-enabled filter
CAY-1419 File-based ResourceLocator to replace legacy FileConfiguration
CAY-1420 Migrate ROP server-side components to DI-based stack
CAY-1421 CayenneRuntime shutdown functionality
CAY-1422 Convert EventManager to an interface, make it injectable
CAY-1424 DI: support for named service injection and flexible map/list binding
CAY-1425 Remove Configuration sharedConfiguration singleton affecting DataContext deserialization, CayenneDataObject XML deserialization, DataContext static factory method. 
CAY-1433 Change #chunk behaviour to skipe only null arguments (don't skip 0 or false)
CAY-1438 refactoring EntityInheritanceTree lookups
CAY-1439 ClassDescriptor refactoring - replacing returned iterators with collections
CAY-1446 Remove DataContextFactory, replace it with DI-enabled ObjectContextFactory
CAY-1447 Switch ROP client to dependency injection
CAY-1474 Straightening CayenneModeler platform-specific builds
CAY-1475 Move cayenne-modeler module out of framework/ and out of the assembly binary
CAY-1476 Preferences exception on domain renaming
CAY-1479 EntitySorter refactoring: make it DI-based, internalize Ashowood lib
CAY-1486 Switch QueryLogger to a DI-managed object
CAY-1491 Add AUTO_INCREMENT primary key support for H2.
CAY-1497 Cayenne tools integration tests
CAY-1499 Deprecate DataContext.objectFromDataRow methods with unused "refresh" parameters.

Bug Fixes Since 3.0:

CAY-1304 Fix some failures in tests on SQLite
CAY-1328 SQLTemplate for DataMap is not working
CAY-1363 Postgress don't support notations float(a, b)
CAY-1364 SQL server don't support notations float(a, b)
CAY-1430 Problems with TINYINT type mapping
